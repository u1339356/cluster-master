yum install mlocate

timedatectl set-timezone Europe/London
yum -y install ntp

nano /etc/ntp.conf
server 0.uk.pool.ntp.org
server 1.uk.pool.ntp.org
server 2.uk.pool.ntp.org
server 3.uk.pool.ntp.org

systemctl restart ntpd

systemctl enable ntpd

rpm -ivh http://yum.puppetlabs.com/puppetlabs-release-el-7.noarch.rpm

yum install puppet-agent puppetserver puppet-server rubygem-puppet-lint -y

vi /etc/sysconfig/puppetserver

#change 2g to 512m remo end of the line

#http://augeas.net/

#edit /etc/hosts and add proper domain name
#hostname -f and facter fqdn must mach

systemctl start  puppetmaster.service
puppet resource service puppetmaster ensure=running enable=true

#systemctl start puppetserver
#systemctl enable puppetserver

nano /etc/puppet/puppet.conf
[master]
#use proper fqdn
certname = cluster-master.kdlabs.uel.ac.uk
dns_alt_names = cluster-master.kdlabs.uel.ac.uk,cluster-master
autosign = true

#this is for agent
dns_alt_names = cluster-master.kdlabs.uel.ac.uk,cluster-master
sever = cluster-master.kdlabs.uel.ac.uk
report = true
#pluginsync = true

puppet resource service puppet ensure=running enable=true







rpm -Uvh https://yum.puppetlabs.com/puppetlabs-release-el-7.noarch.rpm
rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm


